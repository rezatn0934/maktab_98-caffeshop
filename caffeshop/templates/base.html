<!DOCTYPE html>
<html style="overflow-x: hidden" lang="en">
{% load static %}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Touché</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicons
        ================================================== -->
    <link rel="shortcut icon" href="{% static 'assets/img/favicon.ico' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'assets/img/favicon.ico' %}" type="image/x-icon">
    <!-- Bootstrap 3-->
    <!-- <link rel="stylesheet" type="text/css"  href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome/css/font-awesome.css"> -->

    <!-- Stylesheet
        ================================================== -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/nivo-lightbox/nivo-lightbox.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/nivo-lightbox/default.css' %}">
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Dancing+Script:400,700" rel="stylesheet">

    <!-- bootstrap 5.3
        ================================================== -->
    <script src="https://https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>


    <!-- Vendor CSS Files -->
    <!-- <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">
    <style> :root {
        scroll-behavior: auto;
    }

    .active {
        font-weight: bold !important;
        color: whitesmoke !important;
        text-shadow: white !important;
    }
    </style>
    {% block link %}{% endblock %}
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!-- <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> -->
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" >
<!-- Navigation
    ==========================================-->
<div>
    <nav id="menu" class="navbar  navbar-default fixed-top navbar-expand-lg mx-0 px-0">

        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="d-flex flex-wrap align-items-center w-100 px-4">
            <!-- <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> -->
            {% if info.logo %}
                <a class=" me-auto  navbar-brand" href="{% url 'home' %}">{{ info.logo_preview }}</a>
            {% else %}
                <a class=" me-auto  navbar-brand page-scroll" href="{% url 'home' %}">Touché</a>
            {% endif %}

            <button class="navbar-toggler" style="color: rgba(255, 255, 255, 0); background-color: rgba(141, 254, 43, 0.507);" type="button"
                    data-bs-toggle="collapse" data-bs-target="#bs-example-navbar-collapse-1"
                    aria-controls="bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="navbar-nav mb-2 mb-lg-0  px-2" style="margin-left: auto; margin-right: 0 !important">
                    <li class="nav-item "><a
                            {% if request.path == '/' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'home' %}">Home</a></li>
                    <li class="nav-item"><a
                            {% if request.path == '/menu/' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'menu:menu' %}">Menu</a></li>
                    <li class="nav-item"><a
                            {% if request.path == '/cart/history/' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'orders:order_history' %}">History</a></li>
                    <li class="nav-item "><a
                            {% if request.path == '/search/' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'menu:search' %}"
                                class="page-scroll">Search</a></li>
                    <li class="nav-item "><a
                            {% if request.path == '/#portfolio' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'home' %}#portfolio">Gallery</a></li>
                    <li class="nav-item "><a
                            {% if request.path == '/#' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'home' %}#">About</a>
                    </li>
                    <li class="nav-item "><a
                            {% if request.path == '/#call-reservation' %}
                                class="nav-link page-scroll mx-1 active"
                            {% else %}
                                class="nav-link page-scroll mx-1"
                            {% endif %}
                                href="{% url 'home' %}#call-reservation">Contact</a></li>
                </ul>
            </div>
            <div class="mr-5" style="width: fit-content; margin-left: 20px;">
                <a role="button" href="{% url 'orders:cart' %}"  onclick="updateCookie()" class="btn btn-custom btn-cart mt-0"
                   type="button">
                    <i class="bi-cart-fill me-1"></i>

                    <span id="cart-nav-btn-num" class="badge text-white ms-1 rounded-pill"
                          style="background-color: rgba(234, 15, 179, 0.196);">{% block order_number %}
                        {{ request.COOKIES.number_of_order_items }}  {% endblock %}</span>
                </a>
            </div>
            {% block cartbox %}{% endblock %}

            <!-- /.navbar-collapse -->
        </div>
    </nav>
</div>
<!-- Navigation
    ==========================================-->

<div>
    {% block content %}{% endblock %}
</div>


<div id="footer">

    <div class="row text-center justify-content-center mx-0">
        <div class="col-md-4 col-sm-6">
            <h3>Address</h3>
            <div class="contact-item">
                <p>{{ info.address }}</p>
            </div>
        </div>
        <div class="col-md-4 col-sm-6">
            <h3>Opening Hours</h3>
            <div class="contact-item">
                <p>{{ info.work_hours }}</p>
            </div>
        </div>
        <div class="col-md-4 col-sm-6 ">
            <h3>Contact Info</h3>
            <div class="contact-item">
                <p>Phone: {{ info.phone }}</p>
                <p>Email: {{ info.email }}</p>
            </div>
        </div>
    </div>
    <div class="row justify-content-center copyrights mx-0">
        <div class="col-lg-8 text-center ">
            <div class="social ">
                <ul>
                    <li><a href="{{ info.facebook }}" target="_blank"><i
                            class="bi-facebook fs-3 fa fa-facebook"></i></a></li>
                    <li><a href="{{ info.twitter }}" target="_blank"><i class="bi-twitter fs-3 fa fa-twitter"></i></a>
                    </li>
                    <li><a href="{{ info.instagram }}" target="_blank"><i class="bi-instagram fs-3 fa fa-instagram"></i></a>
                    </li>
                </ul>
            </div>
            <span class="text-center my-5"> 2016 Touché. All rights reserved. Designed by TemplateWire</span>
        </div>
    </div>
</div>
<script type="text/javascript" src="{% static 'js/jquery.1.11.1.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.js' %}"></script>
<!-- <script type="text/javascript" src="{% static 'js/SmoothScroll.js' %}"></script> -->
<script type="text/javascript" src="{% static 'js/nivo-lightbox.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.isotope.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jqBootstrapValidation.js' %}"></script>
<!-- <script type="text/javascript" src="{% static 'js/contact_me.js' %}"></script>  -->
<script type="text/javascript" src="{% static 'js/main.js' %}"></script>

<!-- <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a> -->

<!-- <div id="preloader"></div> -->

<!-- Vendor JS Files -->
<!-- <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script> -->
<script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
<script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
<script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
<script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
<script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

<!-- Template Main JS File -->
<script src="{% static 'assets/js/main.js' %}"></script>
<script>
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl)
    })
</script>

<script>
        setTimeout(function(){
        if ($('#msg').length > 0) {
            $('#msg').remove();
        }
    }, 5000)
</script>
<script>
    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
            c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
            }
        }
        return "";
    }
    function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    function eraseCookie(name) {
        document.cookie = name+'=; Max-Age=-99999999;';
    }

    function setOrderItemsNumber(orders){ // gets order object as argument and sets number of order items in cookie
        let number_of_order_items = 0;    // also it changes the number in cart button
        // let ordersQuantities = Object.values(orders);
        for (product in orders){
          number_of_order_items += +orders[product]['quantity'];
        }
        // setCookie('number_of_order_items', number_of_order_items, 10);
        localStorage.setItem('number_of_order_items', number_of_order_items);
        document.getElementById("cart-nav-btn-num").innerText = number_of_order_items;

    }

    function getCookieObject(item_name){ // it gets the object name that is stored in cookie and retrive it
        let stringitem = getCookie(item_name);
        stringitem = stringitem.replaceAll('\\054', ',');
        stringitem = stringitem.replaceAll("\'", "\"");
        if (stringitem.charAt(0) == "\"" & stringitem.charAt(1) == "{" ){
            stringitem = stringitem.slice(1, -1);
        }
        if (!stringitem){
            stringitem = JSON.stringify({})
        }
        let items = JSON.parse(stringitem);
        return items;
    }

</script>
{% block footerlink %} {% endblock %}
</body>
</html>
      